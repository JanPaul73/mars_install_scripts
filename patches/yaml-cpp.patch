--- yaml-cpp/CMakeLists.txt.orig	Sa Jan 21 09:52:48 2012
+++ yaml-cpp/CMakeLists.txt	Mi Jul 18 19:39:18 2012
@@ -266,11 +266,18 @@
 	FILES_MATCHING PATTERN "*.h"
 )
 
-if(UNIX)
-	set(PC_FILE ${CMAKE_BINARY_DIR}/yaml-cpp.pc)
-	configure_file("yaml-cpp.pc.cmake" ${PC_FILE} @ONLY)
-	install(FILES ${PC_FILE} DESTINATION ${LIB_INSTALL_DIR}/pkgconfig)
+set(PC_FILE ${CMAKE_BINARY_DIR}/yaml-cpp.pc)
+configure_file("yaml-cpp.pc.cmake" ${PC_FILE} @ONLY)
+if(WIN32)
+	set(PKG_CONFIG_DIR lib${LIB_SUFFIX}/pkgconfig)
+       # this fixes the error 998 from the LibManager
+       set(CMAKE_SHARED_LINKER_FLAGS "-Wl,--enable-auto-import")
+       set(CMAKE_MODULE_LINKER_FLAGS "-Wl,--enable-auto-import")
+else()
+	set(PKG_CONFIG_DIR ${LIB_INSTALL_DIR}/pkgconfig)
+       set(CMAKE_CXX_FLAGS "-fPIC")
 endif()
+install(FILES ${PC_FILE} DESTINATION ${PKG_CONFIG_DIR})
 
 
 ###
